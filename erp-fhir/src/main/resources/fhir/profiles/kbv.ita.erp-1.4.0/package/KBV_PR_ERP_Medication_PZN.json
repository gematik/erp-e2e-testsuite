{"resourceType":"StructureDefinition","id":"KBV-PR-ERP-Medication-PZN","url":"https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_PZN","version":"1.4.0","name":"KBV_PR_ERP_Medication_PZN","status":"active","date":"2025-11-06","publisher":"Kassenärztliche Bundesvereinigung (KBV)","fhirVersion":"4.0.1","kind":"resource","abstract":false,"type":"Medication","baseDefinition":"https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Medication|1.7.0","derivation":"constraint","differential":{"element":[{"id":"Medication","path":"Medication","constraint":[{"key":"-erp-angabeNormgroesseOderMenge","severity":"error","human":"Packungsgröße oder Normgröße (Wert N1 oder N2 oder N3) müssen angegeben sein","expression":"(extension('http://fhir.de/StructureDefinition/normgroesse').exists() and extension('http://fhir.de/StructureDefinition/normgroesse').all(($this.value as code)='N1' or ($this.value as code)='N2' or ($this.value as code)='N3')) or amount.exists()"},{"key":"-erp-angabeWirkstaerkeWirkstoffUnbekannt","severity":"error","human":"Wenn die Wirkstärke angegeben ist, darf der Wirkstoff nicht unbekannt sein.","expression":"Medication.ingredient.strength.extension('http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists().not() implies Medication.ingredient.itemCodeableConcept.extension('http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists().not()"}]},{"id":"Medication.id","path":"Medication.id","min":1,"mustSupport":true},{"id":"Medication.meta","path":"Medication.meta","min":1,"mustSupport":true},{"id":"Medication.meta.versionId","path":"Medication.meta.versionId","min":1,"max":"1","mustSupport":true},{"id":"Medication.meta.lastUpdated","path":"Medication.meta.lastUpdated","max":"0"},{"id":"Medication.meta.source","path":"Medication.meta.source","max":"0"},{"id":"Medication.meta.profile","path":"Medication.meta.profile","slicing":{"discriminator":[{"type":"value","path":"$this"}],"rules":"open"},"min":1,"mustSupport":true},{"id":"Medication.meta.profile:erpProfile","path":"Medication.meta.profile","sliceName":"erpProfile","min":1,"max":"1","fixedCanonical":"https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_PZN|1.4","mustSupport":true},{"id":"Medication.meta.security","path":"Medication.meta.security","max":"0"},{"id":"Medication.meta.tag","path":"Medication.meta.tag","max":"0"},{"id":"Medication.implicitRules","path":"Medication.implicitRules","max":"0"},{"id":"Medication.language","path":"Medication.language","max":"0"},{"id":"Medication.text","path":"Medication.text","max":"0"},{"id":"Medication.contained","path":"Medication.contained","max":"0"},{"id":"Medication.extension","path":"Medication.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"min":3,"max":"4"},{"id":"Medication.extension:Kategorie","path":"Medication.extension","sliceName":"Kategorie","min":1,"mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]","path":"Medication.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept","path":"Medication.extension.value[x]","sliceName":"valueCodeableConcept","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding","path":"Medication.extension.value[x].coding","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding.system","path":"Medication.extension.value[x].coding.system","fixedUri":"http://snomed.info/sct","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding.version","path":"Medication.extension.value[x].coding.version","fixedString":"http://snomed.info/sct/11000274103/version/20240515","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding.code","path":"Medication.extension.value[x].coding.code","fixedCode":"763158003","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding.display","path":"Medication.extension.value[x].coding.display","fixedString":"Medicinal product (product)","mustSupport":true},{"id":"Medication.extension:Kategorie.value[x]:valueCodeableConcept.coding.userSelected","path":"Medication.extension.value[x].coding.userSelected","max":"0"},{"id":"Medication.extension:Normgroesse","path":"Medication.extension","sliceName":"Normgroesse","mustSupport":true},{"id":"Medication.extension:Normgroesse.value[x]","path":"Medication.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"min":1,"mustSupport":true},{"id":"Medication.extension:Normgroesse.value[x]:valueCode","path":"Medication.extension.value[x]","sliceName":"valueCode","mustSupport":true},{"id":"Medication.extension:Arzneimittelkategorie","path":"Medication.extension","sliceName":"Arzneimittelkategorie","min":1,"max":"1","type":[{"code":"Extension","profile":["https://fhir.kbv.de/StructureDefinition/KBV_EX_ERP_Medication_Category"]}],"mustSupport":true},{"id":"Medication.extension:Arzneimittelkategorie.value[x]","path":"Medication.extension.value[x]","mustSupport":true},{"id":"Medication.extension:Arzneimittelkategorie.value[x]:valueCoding","path":"Medication.extension.value[x]","sliceName":"valueCoding","mustSupport":true},{"id":"Medication.extension:Arzneimittelkategorie.value[x]:valueCoding.system","path":"Medication.extension.value[x].system","mustSupport":true},{"id":"Medication.extension:Arzneimittelkategorie.value[x]:valueCoding.code","path":"Medication.extension.value[x].code","mustSupport":true},{"id":"Medication.extension:Impfstoff","path":"Medication.extension","sliceName":"Impfstoff","min":1,"max":"1","type":[{"code":"Extension","profile":["https://fhir.kbv.de/StructureDefinition/KBV_EX_ERP_Medication_Vaccine"]}],"mustSupport":true},{"id":"Medication.extension:Impfstoff.value[x]:valueBoolean","path":"Medication.extension.value[x]","sliceName":"valueBoolean","mustSupport":true},{"id":"Medication.identifier","path":"Medication.identifier","max":"0"},{"id":"Medication.code","path":"Medication.code","mustSupport":true},{"id":"Medication.code.coding","path":"Medication.code.coding","slicing":{"discriminator":[{"type":"value","path":"$this"}],"rules":"closed"},"min":1,"max":"1"},{"id":"Medication.code.coding:pzn","path":"Medication.code.coding","sliceName":"pzn","min":1,"constraint":[{"key":"-erp-begrenzungPznCode","severity":"error","human":"Der PZN-Code muss aus genau 8 Zeichen bestehen.","expression":"code.length()=8"}],"mustSupport":true},{"id":"Medication.code.coding:pzn.system","path":"Medication.code.coding.system","mustSupport":true},{"id":"Medication.code.coding:pzn.version","path":"Medication.code.coding.version","max":"0"},{"id":"Medication.code.coding:pzn.code","path":"Medication.code.coding.code","mustSupport":true},{"id":"Medication.code.coding:pzn.display","path":"Medication.code.coding.display","max":"0"},{"id":"Medication.code.coding:pzn.userSelected","path":"Medication.code.coding.userSelected","max":"0"},{"id":"Medication.code.coding:snomed","path":"Medication.code.coding","sliceName":"snomed","max":"0"},{"id":"Medication.code.coding:atc","path":"Medication.code.coding","sliceName":"atc","max":"0"},{"id":"Medication.code.text","path":"Medication.code.text","short":"Handelsname","definition":"Handelsname des verordneten Präparates, aus der PZN abgeleitet","min":1,"maxLength":100,"mustSupport":true},{"id":"Medication.status","path":"Medication.status","max":"0"},{"id":"Medication.manufacturer","path":"Medication.manufacturer","max":"0"},{"id":"Medication.form","path":"Medication.form","min":1,"mustSupport":true},{"id":"Medication.form.coding","path":"Medication.form.coding","slicing":{"discriminator":[{"type":"value","path":"$this"}],"rules":"closed"},"min":1,"max":"1"},{"id":"Medication.form.coding:snomed","path":"Medication.form.coding","sliceName":"snomed","max":"0"},{"id":"Medication.form.coding:edqm","path":"Medication.form.coding","sliceName":"edqm","max":"0"},{"id":"Medication.form.coding:kbvDarreichungsform","path":"Medication.form.coding","sliceName":"kbvDarreichungsform","min":1,"max":"1","mustSupport":true},{"id":"Medication.form.coding:kbvDarreichungsform.system","path":"Medication.form.coding.system","mustSupport":true},{"id":"Medication.form.coding:kbvDarreichungsform.version","path":"Medication.form.coding.version","max":"0"},{"id":"Medication.form.coding:kbvDarreichungsform.code","path":"Medication.form.coding.code","short":"Code der Darreichungsform","definition":"Darreichungsform entsprechend der Daten nach § 131 Abs. 4 SGB V","mustSupport":true},{"id":"Medication.form.coding:kbvDarreichungsform.userSelected","path":"Medication.form.coding.userSelected","max":"0"},{"id":"Medication.form.text","path":"Medication.form.text","max":"0"},{"id":"Medication.amount","path":"Medication.amount","mustSupport":true},{"id":"Medication.amount.numerator","path":"Medication.amount.numerator","min":1,"mustSupport":true},{"id":"Medication.amount.numerator.extension","path":"Medication.amount.numerator.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"open"},"min":1},{"id":"Medication.amount.numerator.extension:Packungsgroesse","path":"Medication.amount.numerator.extension","sliceName":"Packungsgroesse","min":1,"max":"1","type":[{"code":"Extension","profile":["https://fhir.kbv.de/StructureDefinition/KBV_EX_ERP_Medication_PackagingSize"]}],"mustSupport":true,"isModifier":false},{"id":"Medication.amount.numerator.extension:Packungsgroesse.value[x]","path":"Medication.amount.numerator.extension.value[x]","mustSupport":true},{"id":"Medication.amount.numerator.extension:Packungsgroesse.value[x]:valueString","path":"Medication.amount.numerator.extension.value[x]","sliceName":"valueString","mustSupport":true},{"id":"Medication.amount.numerator.value","path":"Medication.amount.numerator.value","max":"0"},{"id":"Medication.amount.numerator.comparator","path":"Medication.amount.numerator.comparator","max":"0"},{"id":"Medication.amount.numerator.unit","path":"Medication.amount.numerator.unit","short":"Einheit","definition":"Einheit der Packungsgröße (z.B. St.). Tritt nur in Verbindung mit „Packungsgröße nach abgeteilter Menge“ auf - z.B. 100 St.","min":1,"maxLength":12,"mustSupport":true},{"id":"Medication.amount.numerator.system","path":"Medication.amount.numerator.system","max":"0"},{"id":"Medication.amount.numerator.code","path":"Medication.amount.numerator.code","max":"0"},{"id":"Medication.amount.denominator","path":"Medication.amount.denominator","min":1,"mustSupport":true},{"id":"Medication.amount.denominator.value","path":"Medication.amount.denominator.value","min":1,"fixedDecimal":1,"mustSupport":true},{"id":"Medication.amount.denominator.comparator","path":"Medication.amount.denominator.comparator","max":"0"},{"id":"Medication.amount.denominator.unit","path":"Medication.amount.denominator.unit","max":"0"},{"id":"Medication.amount.denominator.system","path":"Medication.amount.denominator.system","max":"0"},{"id":"Medication.amount.denominator.code","path":"Medication.amount.denominator.code","max":"0"},{"id":"Medication.ingredient","path":"Medication.ingredient","min":1,"mustSupport":true},{"id":"Medication.ingredient.item[x]","path":"Medication.ingredient.item[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"type":[{"code":"CodeableConcept"}]},{"id":"Medication.ingredient.item[x]:itemCodeableConcept","path":"Medication.ingredient.item[x]","sliceName":"itemCodeableConcept","type":[{"code":"CodeableConcept"}],"mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.extension","path":"Medication.ingredient.item[x].extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"description":"Extensions are always sliced by (at least) url","rules":"closed"},"max":"1"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.extension:data-absent-reason","path":"Medication.ingredient.item[x].extension","sliceName":"data-absent-reason","min":0,"max":"1","type":[{"code":"Extension","profile":["http://hl7.org/fhir/StructureDefinition/data-absent-reason"]}],"mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.extension:data-absent-reason.value[x]","path":"Medication.ingredient.item[x].extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.extension:data-absent-reason.value[x]:valueCode","path":"Medication.ingredient.item[x].extension.value[x]","sliceName":"valueCode","min":1,"max":"1","type":[{"code":"code"}],"fixedCode":"unknown","mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding","path":"Medication.ingredient.item[x].coding","slicing":{"discriminator":[{"type":"value","path":"$this"}],"rules":"closed"},"max":"1"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask","path":"Medication.ingredient.item[x].coding","sliceName":"ask","max":"1","mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask.system","path":"Medication.ingredient.item[x].coding.system","mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask.version","path":"Medication.ingredient.item[x].coding.version","max":"0"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask.code","path":"Medication.ingredient.item[x].coding.code","mustSupport":true},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask.display","path":"Medication.ingredient.item[x].coding.display","max":"0"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:ask.userSelected","path":"Medication.ingredient.item[x].coding.userSelected","max":"0"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.coding:snomed","path":"Medication.ingredient.item[x].coding","sliceName":"snomed","max":"0"},{"id":"Medication.ingredient.item[x]:itemCodeableConcept.text","path":"Medication.ingredient.item[x].text","short":"Wirkstoffname","maxLength":80,"mustSupport":true},{"id":"Medication.ingredient.item[x]:itemReference","path":"Medication.ingredient.item[x]","sliceName":"itemReference","max":"0"},{"id":"Medication.ingredient.isActive","path":"Medication.ingredient.isActive","max":"0"},{"id":"Medication.ingredient.strength","path":"Medication.ingredient.strength","short":"Wirkstärke","min":1,"mustSupport":true},{"id":"Medication.ingredient.strength.extension","path":"Medication.ingredient.strength.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"description":"Extensions are always sliced by (at least) url","rules":"closed"},"max":"1"},{"id":"Medication.ingredient.strength.extension:data-absent-reason","path":"Medication.ingredient.strength.extension","sliceName":"data-absent-reason","type":[{"code":"Extension","profile":["http://hl7.org/fhir/StructureDefinition/data-absent-reason"]}],"mustSupport":true},{"id":"Medication.ingredient.strength.extension:data-absent-reason.value[x]","path":"Medication.ingredient.strength.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Medication.ingredient.strength.extension:data-absent-reason.value[x]:valueCode","path":"Medication.ingredient.strength.extension.value[x]","sliceName":"valueCode","min":1,"fixedCode":"unknown","mustSupport":true},{"id":"Medication.ingredient.strength.numerator","path":"Medication.ingredient.strength.numerator","short":"Wirkstoffmenge","constraint":[{"key":"-erp-begrenzungValue","severity":"error","human":"Der Zahlenwert der Wirkstoffmenge darf aus maximal 15 Zeichen bestehen","expression":"value.toString().length()<=15"}],"mustSupport":true},{"id":"Medication.ingredient.strength.numerator.value","path":"Medication.ingredient.strength.numerator.value","short":"Zahlenwert der Wirkstoffmenge","min":1,"mustSupport":true},{"id":"Medication.ingredient.strength.numerator.comparator","path":"Medication.ingredient.strength.numerator.comparator","max":"0"},{"id":"Medication.ingredient.strength.numerator.unit","path":"Medication.ingredient.strength.numerator.unit","short":"Einheit der Wirkstoffmenge","definition":"Einheit der Wirkstoffmenge (bspw. mg)","min":1,"maxLength":15,"mustSupport":true},{"id":"Medication.ingredient.strength.numerator.system","path":"Medication.ingredient.strength.numerator.system","max":"0"},{"id":"Medication.ingredient.strength.numerator.code","path":"Medication.ingredient.strength.numerator.code","max":"0"},{"id":"Medication.ingredient.strength.denominator","path":"Medication.ingredient.strength.denominator","short":"Bezugsmenge","constraint":[{"key":"-erp-begrenzungValue","severity":"error","human":"Der Zahlenwert der Bezugsmenge darf aus maximal 15 Zeichen bestehen","expression":"value.toString().length()<=15"}],"mustSupport":true},{"id":"Medication.ingredient.strength.denominator.value","path":"Medication.ingredient.strength.denominator.value","short":"Zahlenwert der Bezugsmenge","min":1,"mustSupport":true},{"id":"Medication.ingredient.strength.denominator.comparator","path":"Medication.ingredient.strength.denominator.comparator","max":"0"},{"id":"Medication.ingredient.strength.denominator.unit","path":"Medication.ingredient.strength.denominator.unit","short":"Einheit der Bezugsmenge","definition":"Einheit der Bezugsmenge (bspw. ml)","min":1,"maxLength":15,"mustSupport":true},{"id":"Medication.ingredient.strength.denominator.system","path":"Medication.ingredient.strength.denominator.system","max":"0"},{"id":"Medication.ingredient.strength.denominator.code","path":"Medication.ingredient.strength.denominator.code","max":"0"}]}}